
[![Main Foodgram workflow](https://github.com/MrFR0D0/foodgram/actions/workflows/main.yml/badge.svg)](https://github.com/bekhabjj/foodgram/actions/workflows/main.yml)

# –ü—Ä–æ–µ–∫—Ç Foodgram: –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –≤–∞—à–∏—Ö —Ä–µ—Ü–µ–ø—Ç–æ–≤

**Foodgram** ‚Äî —ç—Ç–æ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –≤–µ–±-—Å–µ—Ä–≤–∏—Å, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å —Å–≤–æ–∏ –∫—É–ª–∏–Ω–∞—Ä–Ω—ã–µ —Ä–µ—Ü–µ–ø—Ç—ã, –ø–æ–¥–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –Ω–∞ –¥—Ä—É–≥–∏—Ö –∞–≤—Ç–æ—Ä–æ–≤, –¥–æ–±–∞–≤–ª—è—Ç—å —Ä–µ—Ü–µ–ø—Ç—ã –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ –∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ–∫—É–ø–æ–∫ –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –±–ª—é–¥.



---

## üöÄ –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–°–æ–∑–¥–∞–Ω–∏–µ –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è —Ä–µ—Ü–µ–ø—Ç–æ–≤:** –£–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ä–µ—Ü–µ–ø—Ç–æ–≤ —Å –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–∞–º–∏, —Ç–µ–≥–∞–º–∏ –∏ –≤—Ä–µ–º–µ–Ω–µ–º –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è.
- **–ü–æ–¥–ø–∏—Å–∫–∏:** –°–ª–µ–¥–∏—Ç–µ –∑–∞ –ª—é–±–∏–º—ã–º–∏ –∞–≤—Ç–æ—Ä–∞–º–∏ –∏ –ø–æ–ª—É—á–∞–π—Ç–µ –∏—Ö –Ω–æ–≤—ã–µ —Ä–µ—Ü–µ–ø—Ç—ã –≤ —Å–≤–æ–µ–π –ª–µ–Ω—Ç–µ.
- **–°–ø–∏—Å–æ–∫ –ø–æ–∫—É–ø–æ–∫:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ñ–æ—Ä–º–∏—Ä—É–π—Ç–µ —Å–ø–∏—Å–æ–∫ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –¥–ª—è –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è –æ–¥–Ω–æ–≥–æ –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –±–ª—é–¥. –°–ø–∏—Å–æ–∫ –º–æ–∂–Ω–æ —Å–∫–∞—á–∞—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ `.txt`.
- **–ò–∑–±—Ä–∞–Ω–Ω–æ–µ:** –°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ –ø–æ–Ω—Ä–∞–≤–∏–≤—à–∏–µ—Å—è —Ä–µ—Ü–µ–ø—Ç—ã, —á—Ç–æ–±—ã –æ–Ω–∏ –≤—Å–µ–≥–¥–∞ –±—ã–ª–∏ –ø–æ–¥ —Ä—É–∫–æ–π.
- **–ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è:** –ò—â–∏—Ç–µ —Ä–µ—Ü–µ–ø—Ç—ã –ø–æ –∞–≤—Ç–æ—Ä—É, —Ç–µ–≥–∞–º –∏ –¥—Ä—É–≥–∏–º –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º.

---

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è |
|---|---|
| **–ë—ç–∫–µ–Ω–¥** | Python, Django, Django REST Framework, Gunicorn |
| **–§—Ä–æ–Ω—Ç–µ–Ω–¥** | JavaScript, React |
| **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** | PostgreSQL |
| **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞** | Docker, Docker Compose, Nginx |
| **CI/CD** | GitHub Actions |

---

## üèõÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```mermaid
graph TD
    user["User<br>External Actor"]

    subgraph proxy ["Reverse Proxy<br>Nginx"]
        nginx_config["Nginx Configuration<br>Nginx"]
    end

    subgraph frontend ["Frontend Application<br>React.js"]
        main_app["Main Application<br>React.js"]
        api_client["API Client<br>JavaScript"]
        ui_components["UI Components<br>React.js"]
        app_pages["Application Pages<br>React.js"]
        context_providers["Context Providers<br>React.js"]
        frontend_utils["Frontend Utilities<br>JavaScript"]

        main_app -->|sends API requests via| api_client
        main_app -->|uses| ui_components
        main_app -->|navigates to| app_pages
        main_app -->|provides context via| context_providers
        main_app -->|utilizes| frontend_utils
    end

    subgraph backend ["Backend API<br>Django, Python"]
        django_core["Django Core<br>Python"]
        api_views["API Views<br>Django REST Framework"]
        api_serializers["API Serializers<br>Django REST Framework"]
        db_models["Database Models<br>Django ORM"]
        data_commands["Data Management Commands<br>Django"]
        api_utils["API Utilities<br>Python"]

        django_core -->|defines routes for| api_views
        api_views -->|serializes/deserializes data with| api_serializers
        api_views -->|queries/updates| db_models
        api_views -->|applies logic from| api_utils
        data_commands -->|modifies| db_models
    end

    subgraph db ["Database<br>PostgreSQL"]
        postgres["PostgreSQL Database<br>SQL"]
    end

    user -->|accesses| proxy
    proxy -->|serves| frontend
    proxy -->|proxies API to| backend
    frontend -->|makes API calls to| backend
    backend -->|reads/writes data from| db
    db -->|stores data for| backend
```

---

## ‚öôÔ∏è –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

–≠—Ç–∏ —à–∞–≥–∏ –ø–æ–º–æ–≥—É—Ç –≤–∞–º –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç –Ω–∞ –≤–∞—à–µ–º –ª–æ–∫–∞–ª—å–Ω–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

```bash
git clone git@github.com:bekhabjj/foodgram.git
cd foodgram
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ `.env`

–í –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ —Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –µ–≥–æ –ø–æ —Å–ª–µ–¥—É—é—â–µ–º—É —à–∞–±–ª–æ–Ω—É. –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —É–∫–∞–∑–∞—Ç—å `SECRET_KEY`.

```env
# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Django
SECRET_KEY='–≤–∞—à_—Å–µ–∫—Ä–µ—Ç–Ω—ã–π_–∫–ª—é—á'
DEBUG=True
ALLOWED_HOSTS=localhost,127.0.0.1
CSRF_TRUSTED_ORIGINS=http://localhost:8000,http://127.0.0.1:8000

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö PostgreSQL
POSTGRES_DB=foodgram
POSTGRES_USER=foodgram_user
POSTGRES_PASSWORD=foodgram_password
DB_HOST=db
DB_PORT=5432
```

### 3. –ó–∞–ø—É—Å–∫ —Å –ø–æ–º–æ—â—å—é Docker Compose

–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ —Å–æ–±–µ—Ä–µ—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –æ–±—Ä–∞–∑—ã –∏ –∑–∞–ø—É—Å—Ç–∏—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –¥–ª—è –±—ç–∫–µ–Ω–¥–∞, —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞, –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞.

```bash
docker-compose -f ./infra/docker-compose.yml -p foodgram up --build  
```

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É [http://localhost:8000/](http://localhost:8000/).

---

## üöÄ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ (CI/CD)

–ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ —É–¥–∞–ª–µ–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω —Å –ø–æ–º–æ—â—å—é **GitHub Actions**. –í–æ—Ä–∫—Ñ–ª–æ—É –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –ø—É—à–µ –≤ –≤–µ—Ç–∫—É `main`.

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?

1.  **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ó–∞–ø—É—Å–∫–∞—é—Ç—Å—è —Ç–µ—Å—Ç—ã —Å –ø–æ–º–æ—â—å—é `ruff`.
2.  **–°–±–æ—Ä–∫–∞ –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è –æ–±—Ä–∞–∑–æ–≤:** –ü—Ä–æ–µ–∫—Ç —Å–æ–±–∏—Ä–∞–µ—Ç Docker-–æ–±—Ä–∞–∑—ã –¥–ª—è –±—ç–∫–µ–Ω–¥–∞, —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –∏ Nginx-—à–ª—é–∑–∞, –ø–æ—Å–ª–µ —á–µ–≥–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∏—Ö –Ω–∞ Docker Hub.
3.  **–î–µ–ø–ª–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä:**
    -   GitHub Actions –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É –ø–æ SSH.
    -   –ù–∞ —Å–µ—Ä–≤–µ—Ä –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è —Ñ–∞–π–ª `infra/docker-compose.production.yml`.
    -   –°–æ–∑–¥–∞–µ—Ç—Å—è –∏ –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è —Ñ–∞–π–ª `.env` –∏–∑ —Å–µ–∫—Ä–µ—Ç–∞, —Ö—Ä–∞–Ω—è—â–µ–≥–æ—Å—è –≤ GitHub.
    -   –° –ø–æ–º–æ—â—å—é `docker-compose` –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è —Å—Ç–∞—Ä—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Å–≤–µ–∂–∏–µ –æ–±—Ä–∞–∑—ã –∏–∑ Docker Hub –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–æ–µ–∫—Ç.
4.  **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ:** –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ Telegram.

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

–î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –≤–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å **Secrets** –≤ –≤–∞—à–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –Ω–∞ GitHub. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ `Settings` > `Secrets and variables` > `Actions` –∏ –¥–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —Å–µ–∫—Ä–µ—Ç—ã:

| –°–µ–∫—Ä–µ—Ç | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|---|---|---|
| `DOCKER_USERNAME` | –í–∞—à –ª–æ–≥–∏–Ω –Ω–∞ Docker Hub. | `myusername` |
| `DOCKER_PASSWORD` | –ü–∞—Ä–æ–ª—å –∏–ª–∏ —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞ –æ—Ç Docker Hub. | `dckr_pat_...` |
| `HOST` | IP-–∞–¥—Ä–µ—Å –∏–ª–∏ –¥–æ–º–µ–Ω –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞. | `123.45.67.89` |
| `USER` | –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –ø–æ SSH. | `ubuntu` |
| `SSH_KEY` | –ü—Ä–∏–≤–∞—Ç–Ω—ã–π SSH-–∫–ª—é—á –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–µ—Ä–≤–µ—Ä—É. | `-----BEGIN OPENSSH PRIVATE KEY-----...` |
| `SSH_PASSPHRASE` | (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ü–∞—Ä–æ–ª—å–Ω–∞—è —Ñ—Ä–∞–∑–∞ –¥–ª—è –≤–∞—à–µ–≥–æ SSH-–∫–ª—é—á–∞. | `your_passphrase` |
| `DOT_ENV` | **–ü–æ–ª–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ** –≤–∞—à–µ–≥–æ `.env` —Ñ–∞–π–ª–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞. | `SECRET_KEY=...` `POSTGRES_PASSWORD=...` |
| `TELEGRAM_TO` | ID –≤–∞—à–µ–≥–æ —á–∞—Ç–∞ –∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Telegram. | `123456789` |
| `TELEGRAM_TOKEN` | –¢–æ–∫–µ–Ω –≤–∞—à–µ–≥–æ Telegram-–±–æ—Ç–∞. | `123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11` |

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —ç—Ç–∏—Ö —Å–µ–∫—Ä–µ—Ç–æ–≤ –ª—é–±–æ–π –ø—É—à –≤ –≤–µ—Ç–∫—É `main` –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è.

---

## üìö API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É:

- [http://localhost:8000/api/docs/](http://localhost:8000/api/docs/)

---

## üë®‚Äçüíª –ê–≤—Ç–æ—Ä

**–ë–µ—Ö—Ä—É–∑ –ö–∞—Ä–∏–º–æ–≤–∏—á**

- GitHub: [@bekhabjj](https://github.com/bekhabjj)
